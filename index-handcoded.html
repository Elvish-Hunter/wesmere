<!DOCTYPE html>

<html class="no-js homepage" lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />

	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montaga|Open+Sans:400,700,400italic,700italic" type="text/css" />
	<link rel="icon" type="image/png" href="/wesmere/img/favicon-32.png" sizes="32x32" />
	<link rel="icon" type="image/png" href="/wesmere/img/favicon-16.png" sizes="16x16" />
	<link rel="stylesheet" type="text/css" href="/wesmere/css/wesmere.css" />
	<link rel="alternate" type="application/rss+xml" title="News" href="https://forums.wesnoth.org/feed.php?f=62" />

	<title>The Battle for Wesnoth</title>

	<script src="/wesmere/js/jquery-3.2.1.min.js"></script>

	<script src="/wesmere/js/modernizr.js"></script>

	<!-- Google Analytics -->
  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1872754-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>

<body>

<span id="sitebuildver" style="text-shadow:0px 0px 2px #fff;font-family:Consolas;font-size:90%;position:absolute;top:0;left:0;display:block;padding:0.2em;color:rgba(127,0,0,0.4);z-index:1000">Wesmere 0.3.0-dev</span>

<div id="main">

	<div id="homebg1">
		<div id="intro" role="banner">
			<a href="/"><img src="/wesmere/img/logo-large.png" alt="The Battle for Wesnoth" width="600" height="200" data-retina /></a>

			<div id="nav">
				<ul id="navlinks" role="navigation">
					<li><a href="/">Home</a></li>
					<li><a href="https://forums.wesnoth.org/viewforum.php?f=62">News</a></li>
					<li><a href="https://wiki.wesnoth.org/Play">Play</a></li>
					<li><a href="https://wiki.wesnoth.org/Create">Create</a></li>
					<li><a href="https://forums.wesnoth.org/">Forums</a></li>
					<li><a href="https://wiki.wesnoth.org/Project">About</a></li>
				</ul>

				<ul id="sociallinks">
					<li><a class="twitter-button" href="https://twitter.com/Wesnoth" title="Follow @Wesnoth on Twitter"><i class="twitter-icon" aria-hidden="true"></i><span class="sr-label">Follow @Wesnoth on Twitter</span></a></li>
					<li><a class="facebook-button" href="https://www.facebook.com/Battle-for-Wesnoth-1671354243186470" title="Wesnoth on Facebook"><i class="facebook-icon" aria-hidden="true"></i><span class="sr-label">Wesnoth on Facebook</span></a></li>
					<li><a class="discord-button" href="https://discord.gg/tSmJS2E" title="Wesnoth Discord Server"><i class="discord-icon" aria-hidden="true"></i><span class="sr-label">Discord Server</span></a></li>
					<li><a class="github-button" href="https://github.com/wesnoth/wesnoth" title="Wesnoth on GitHub"><i class="github-icon" aria-hidden="true"></i><span class="sr-label">GitHub Project</span></a></li>
				</ul>
			</div>
		</div>
	</div>

	<div id="homebg2">
		<div id="overview">
			<div class="centerbox">

				<div id="description">
					<p><cite class="stylizedbrand">The Battle for Wesnoth</cite> is an <a href="https://opensource.org/faq#osd">open source</a>, turn-based strategy game with a high fantasy theme. It features both singleplayer and online/hotseat multiplayer combat.</p>
					<p>Explore the world of Wesnoth and take part in its many adventures! Embark on a desperate quest to reclaim your rightful throne... Flee the Lich Lords to a new home across the sea... Delve into the darkest depths of the earth to craft a jewel of fire itself... Defend your kingdom against the ravaging hordes of a foul necromancer... Or lead a straggly band of survivors across the blazing sands to confront an unseen evil.</p>
					<p id="description-trail">The choice is up to you...</p>
				</div>

				<div id="download-recommended">
					<a class="download-button" role="button" href="#download">
						<span class="download-arrow" aria-hidden="true"></span>
						<span class="download-text">
							<span class="download-big">Download Now!</span>
							<span class="download-desc">&nbsp;</span>
						</span>
					</a>
					<a class="steam-button" role="button" href="#">
						<span class="download-text">
							<span class="steam-icon" aria-hidden="true"></span>
							<span class="download-big">Get on Steam!</span>
						</span>
					</a>
					<div id="download-extra">
						<a href="/start/1.12/">Release notes</a>
					</div>
					<script>
						(function($){
							$("#download-extra").append("| <a href='#download'>Other versions and platforms</a>");
						})(jQuery);
					</script>
				</div>

				<div id="showcase">
					<div id="showcase-current">
						<iframe id="showcase-object" width="854" height="480" src="https://www.youtube.com/embed/KbYsOwgLJfY" frameborder="0" allowfullscreen></iframe>
					</div>

					<script>
						(function($) {
							var spinnerSvg = "<svg id='spinner'><circle cx='20' cy='20' r='18'/></svg>";

							var ShowcaseObject = function(type, linkUrl, thumbUrl, altText, embedUrl) {
								this.type  = type;
								this.href  = linkUrl;
								this.thumb  = thumbUrl;
								this.alt   = altText === undefined ? '' : altText;
								this.embed = embedUrl === undefined ? linkUrl : embedUrl;

								// FIXME: we don't escape special characters in URLs yet.

								if (this.type == "vyt" && !linkUrl && embedUrl) {
									// Convert from YouTube iframe embed URL
									this.href = this.embed.replace(/^https?:\/\/(www\.)?youtube\.com\/embed\//, "https://www.youtube.com/watch?v=");
								}

								this.makeListItem = function() {
									return "<li><a class='" + this.type + "' href='" + this.href + "'>" + (this.type == "vyt" ? "<i aria-hidden='true'/>" : "") +
									       "<img src='" + this.thumb + "' alt='" + this.alt + "'/></a></li>";
								}
							};

							//
							// Screenshots gallery data
							//

							var screenshotPrefix = "https://www.wesnoth.org/images/sshots/wesnoth-";
							var screenshotExt = ".jpg";
							var screenshotThumbSuffix = "192";
							var screenshotSeries = [
								{ ver: "1.12.0", count: 9  }, // There's 13 screenshots but the 10th doesn't exist.
								{ ver: "1.12.4", count: 4  },
								{ ver: "1.12.5", count: 2  }
							];

							var trailerUrl = $("#showcase-object").attr("src");

							//
							// Generate the thumbnail strip and associated data
							//

							var showcaseObjects = [ new ShowcaseObject("vyt", null, "/images/trailer-thumb.jpg", "Trailer", trailerUrl) ];

							for (var k = 0; k < screenshotSeries.length; ++k) {
								var series = screenshotSeries[k];
								for (var j = 1; j <= series.count; ++j) {
									var thumbUrl = screenshotPrefix + series.ver + "-" + j + "-" + screenshotThumbSuffix + screenshotExt;
									var srcUrl = screenshotPrefix + series.ver + "-" + j + screenshotExt;
									showcaseObjects.push(new ShowcaseObject("pic", srcUrl, thumbUrl));
								}
							}

							function arrowHtml(direction)
							{
								return "<a class='screenshots-arrow' role='button' id='screenshots-" +
								       direction + "' href='#' title='Scroll " + direction + "'><i aria-hidden='true'/></a>";
							}

							var listHtml = "";

							for (var j = 0; j < showcaseObjects.length; ++j) {
								listHtml += showcaseObjects[j].makeListItem();
							}

							$("<div id='screenshots-strip'>" + arrowHtml("left") + "<ul id='screenshots-scrollarea'>" + listHtml +"</ul>" + arrowHtml("right") + "</div>").
								appendTo("#showcase");

							var $pane = $("#screenshots-scrollarea");

							//
							// Event handling
							//

							var $showcaseParent = $("#showcase-current");
							var vidWidth = 854, vidHeight = 480;

							var prevType, curItem;
							var containerFade = 300, loadAnimFade = 50, loadDone = false;

							var $loadAnim, $curScreenshot, $newScreenshot, $imgContainer;

							function selectStripItem(n)
							{
								if (n < 0 || n >= showcaseObjects.length || n == curItem) {
									return;
								}

								var thumb = $pane.find("a")[n];

								var obj = showcaseObjects[n];

								switch (obj.type) {
									case "pic":
										if (obj.type !== prevType) {
											$showcaseParent.html("<div id='showcase-screenshot-container'><a title='Click to enlarge'><img alt='' hidden/></a><div id='showcase-loading' aria-hidden='true' hidden><div>" + spinnerSvg + "</div></div></div>");
											$loadAnim = $showcaseParent.find("#showcase-loading");
											$imgContainer = $showcaseParent.find("a");
										}
										var xFade = obj.type === prevType;
										$curScreenshot = $imgContainer.children();
										$newScreenshot = $("<img alt='" + obj.alt + "'/>");
										// Add to the back of the container. Since these are absolutely positioned boxes, doing
										// this allows us to implement a cheap crossfade effect.
										$newScreenshot.prependTo($imgContainer);
										// Bind load event before loading image, otherwise it may not fire.
										$newScreenshot.on("load", function() {
											loadDone = true;
											$loadAnim.hide();
											$imgContainer.attr("href", obj.href);
											$curScreenshot.fadeOut(xFade ? containerFade : 0, function() {
												$curScreenshot.remove();
												$curScreenshot = $newScreenshot = null;
											});
										});
										loadDone = false;
										$newScreenshot.attr("src", obj.embed);
										// Only display the loading animation if it takes a substantial amount of time to load.
										setTimeout(function() { if (!loadDone) { $loadAnim.fadeIn(loadAnimFade); } }, 100);
										break;
									case "vyt":
										curScreenshot = newScreenshot = null;
										if (obj.type === prevType) {
											$showcaseParent.find("iframe").attr("src", obj.embed);
										} else {
											$showcaseParent.html("<div id='showcase-video-container'><iframe id='showcase-object' width='" + vidWidth + "' height='" + vidHeight + "' frameborder='0' src='" + obj.embed + "' allowfullscreen/></div>");
										}
										break;
									default:
										curScreenshot = newScreenshot = null;
										$showcaseParent.html("<span>:(</span>");
								}

								$pane.find("a").not(thumb).removeClass("current");
								$(thumb).toggleClass("current");

								prevType = obj.type;
								curItem = n;
							}

							$pane.children().each(function(n) {
								$(this).click(function() { selectStripItem(n); return false; });
							});

							selectStripItem(0);

							var $par = $("#screenshots-strip");
							var $lArr = $("#screenshots-left"), $rArr = $("#screenshots-right");

							var dirLeft = -1, dirRight = 1;
							var scrollDist = 100;
							var animLength = 250;
							var scrollInterval = 100;

							var repeater;
							var curDirection;

							function stopScrolling()
							{
								if (repeater !== undefined) {
									repeater = clearInterval(repeater);
								}
								return false;
							}

							function updateScrollArrows(fadeLength)
							{
								var $hideMe = $(), $showMe = $();
								var pos = $pane.scrollLeft();
								var maxPos = $pane[0].scrollWidth - $pane[0].clientWidth;

								//console.log("pos = "+ pos + "; maxPos = " + maxPos);

								if (pos <= 0) {
									$hideMe = $hideMe.add($lArr);
									if(curDirection == dirLeft) {
										stopScrolling();
									}
								} else {
									$showMe = $showMe.add($lArr);
								}

								if (pos >= maxPos) {
									$hideMe = $hideMe.add($rArr);
									if(curDirection == dirRight) {
										stopScrolling();
									}
								} else {
									$showMe = $showMe.add($rArr);
								}

								if ($hideMe) { $hideMe.fadeOut(fadeLength); }
								if ($showMe) { $showMe.fadeIn(fadeLength);  }
							}

							updateScrollArrows(0);

							function scrollPaneStep(direction)
							{
								$pane.animate(
									{ scrollLeft : $pane.scrollLeft() + scrollDist * direction },
									{ duration : 80, complete: function() { updateScrollArrows(animLength); } } );
							}

							function startScroll(direction)
							{
								curDirection = direction;
								// Make sure to scroll at least once in case of a short click.
								scrollPaneStep(direction);
								repeater = setInterval(scrollPaneStep, scrollInterval, direction);
								return false;
							}

							$lArr.add($rArr).click(function() { return false; });

							$lArr.mousedown(function() { return startScroll(dirLeft);  });
							$rArr.mousedown(function() { return startScroll(dirRight); });

							$lArr.add($rArr).mouseup(function()    { return stopScrolling(); });
							$lArr.add($rArr).mouseleave(function() { return stopScrolling(); });

							var touchArea = $par.get(0);
							var touches = [];
							var longTouch;
							var startX = 0;
							var dragSpeed = 20;

							function onTouchStart(ev)
							{
								//ev.preventDefault();
								longTouch = false;

								for (var j = 0; j < ev.changedTouches.length; ++j) {
									touches.push(ev.changedTouches[j]);
								}

								startX = ev.touches[0].pageX;

								setTimeout(function() {
									longTouch = true;
								}, 250);
							}

							function onTouchMove(ev)
							{
								ev.preventDefault();

								var posX = ev.touches[0].pageX;
								var shiftX = startX - posX;

								startX = posX;

								//console.log("MOVE: shift " + shiftX);

								var pos = $pane.scrollLeft();
								var maxPos = $pane[0].scrollWidth - $pane[0].clientWidth;

								$pane.scrollLeft(pos + shiftX);
								updateScrollArrows(animLength);
							}

							function onTouchEnd(ev)
							{
								if (ev.touches.length && ev.touches[0] !== undefined && ev.touches[0].pageX != startX) {
									ev.preventDefault();
								}

								touches.length = 0;
							}

							touchArea.addEventListener("touchstart",  onTouchStart,  false);
							touchArea.addEventListener("touchmove",   onTouchMove,   false);
							touchArea.addEventListener("touchend",    onTouchEnd,    false);
							touchArea.addEventListener("touchcancel", onTouchEnd,    false);
						}(jQuery));
					</script>

				</div> <!-- #showcase -->

				<noscript><a id="screenshots-more" href="https://wiki.wesnoth.org/Screenshots">Screenshots <b>&#8250;</b></a></noscript>

				<div id="features">
					<h2>Features</h2>

					<ul>
						<li>Units hand-animated in a vibrant pixel art style, with semi-realistic portraits used for dialogs.</li>
						<!--1.12--><li>16 singleplayer campaigns and 46 multiplayer maps to choose from.</li>
						<!--1.14   <li>17 singleplayer campaigns and 55 multiplayer maps to choose from.</li>-->
						<li>Over 200 unit types in six major factions, all with distinctive abilities, weapons and spells.</li>
						<li>Face off against other players over the Internet, or challenge your friends over a private/local network or hot-seat.</li>
						<li>Translated into over 30 different languages.</li>
						<li>Highly moddable engine combining <a href="https://wiki.wesnoth.org/ReferenceWML">WML</a> and <a href="https://www.lua.org/">Lua</a> scripting</li>
						<li>Tons of player-made content available from the official add-ons server: new campaigns, factions, and multiplayer maps with new and unique mechanics and artwork.</li>
						<li>Cross-platform compatible with Microsoft Windows, Apple macOS, and GNU/Linux.</li>
						<!--<li>Cross-platform compatible with Microsoft Windows, Apple macOS, GNU/Linux, Android, and Apple iOS.</li>-->
					</ul>

				</div>

				<div class="reset"></div>
			</div> <!-- .centerbox -->
		</div> <!-- #overview -->
	</div> <!-- #homebg2 -->

	<div id="homebg4" class="topdivider2">
		<div class="centerbox">
			<div id="download">
				<h2>Download</h2>
				<!--<span id="bgdownload"></span>-->

				<div id="stable" class="download-branch" data-version="1.12.6" data-recommended>
					<h3>Stable</h3>

					<p>The <b>stable</b> version of Wesnoth is recommended for new and veteran players and content creators on all platforms, as it offers a well-supported and time-tested experience with only occasional updates delivering bug fixes and translation updates.</p>

					<ul id="dlstable" class="downloads">
						<li class="windows">
							<a href="https://sourceforge.net/projects/wesnoth/files/wesnoth-1.12/wesnoth-1.12.6/wesnoth-1.12.6-win32.exe/download">
								<i class="downloadicon downloadicon-windows" aria-hidden="true"></i>
								<span class="os">Windows</span>
								<span class="size">353.0 MiB</span>
							</a>
						</li>
						<li class="apple">
							<a href="https://sourceforge.net/projects/wesnoth/files/wesnoth-1.12/wesnoth-1.12.6/Wesnoth_1.12.6.dmg/download">
								<i class="downloadicon downloadicon-apple" aria-hidden="true"></i>
								<span class="os">macOS (10.6+)</span>
								<span class="size">391.2 MiB</span>
							</a>
						</li>
						<li class="src">
							<a href="https://sourceforge.net/projects/wesnoth/files/wesnoth-1.12/wesnoth-1.12.6/wesnoth-1.12.6.tar.bz2/download">
								<i class="downloadicon downloadicon-src" aria-hidden="true"></i>
								<span class="os">Source</span>
								<span class="size">387.9 MiB</span>
							</a>
						</li>
						<li class="linux">
							<a href="https://wiki.wesnoth.org/WesnothBinariesLinux">
								<i class="downloadicon downloadicon-linux" aria-hidden="true"></i>
								<span class="os">Linux</span>
							</a>
						</li>
						<!--<li class="ios">
							<a href="#">
								<i class="downloadicon downloadicon-ios" aria-hidden="true"></i>
								<span class="os">iOS</span>
							</a>
						</li>-->
						<li class="android">
							<a href="https://play.google.com/store/apps/details?id=it.alessandropira.wesnoth112">
								<i class="downloadicon downloadicon-android" aria-hidden="true"></i>
								<span class="os">Android</span>
							</a>
						</li>
					</ul>

					<ul class="downloads-more">
						<li><a href="https://forums.wesnoth.org/viewtopic.php?t=44175">Update announcement</a></li>
						<li><a href="/start/1.12/">Release notes for 1.12</a></li>
						<li><a href="https://wiki.wesnoth.org/Download#Stable_.281.12_branch.29">Checksums and other downloads</a></li>
					</ul>

					<h4>System Requirements</h4>

					<figure>
						<table class="sysreqs">
							<thead>
								<tr>
									<th></th>
									<th>Minimum</th>
									<th>Recommended</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<th>Operating system</th>
									<td>Microsoft Windows XP SP3 or later<br />Apple macOS 10.6 or later<br />Ubuntu 12.04 or compatible<sup>1</sup></td>
									<td>Microsoft Windows 7 SP1 or later<br />Apple macOS 10.10 or later<br />Ubuntu 14.04 or compatible</td>
								</tr>
								<tr>
									<th>CPU</th>
									<td>Single-core 1.3 GHz or better</td>
									<td>Dual-core 2.0 GHz or better</td>
								</tr>
								<tr>
									<th>RAM</th>
									<td>2 GB</td>
									<td>4 GB</td>
								</tr>
								<tr>
									<th>Disk</th>
									<td>700 MB free</td>
									<td>2 GB free</td>
								</tr>
								<tr>
									<th>Graphics</th>
									<td>800x480 or larger screen<sup>2</sup></td>
									<td>1024x768 or larger screen<sup>2</sup></td>
								</tr>
								<tr>
									<th>Input</th>
									<td colspan="2">Keyboard and mouse required</td>
							</tbody>
						</table>
						<figcaption class="leftalign">
							<small>
								<sup>1</sup> Ubuntu 12.04 is supported only when <a href="https://forums.wesnoth.org/viewtopic.php?p=585449#p585449">building from source with non-default options</a>.
								<br />
								<sup>2</sup> Retina hardware is not properly supported on Apple macOS by 1.12.x and causes issues.
							</small>
						</figcaption>
					</figure>
				</div>

				<div id="dev" class="download-branch" data-version="1.13.8">
					<h3>Development</h3>

					<p><i class="download-desc-warning" aria-hidden="true"></i> <strong style="color:#d41">New players are advised to choose the stable version instead.</strong></p>

					<p>The <b>development</b> version of Wesnoth is geared towards veteran players and content creators who wish to try something new and take a more active role in the game’s development and testing process. Updates are more frequent and may include game-breaking changes.</p>

					<ul id="dldev" class="downloads">
						<li class="windows">
							<a href="https://sourceforge.net/projects/wesnoth/files/wesnoth/wesnoth-1.13.8/wesnoth-1.13.8-win32.exe/download">
								<i class="downloadicon downloadicon-windows" aria-hidden="true"></i>
								<span class="os">Windows</span>
								<span class="size">371.3 MiB</span>
							</a>
						</li>
						<li class="apple">
							<a href="https://sourceforge.net/projects/wesnoth/files/wesnoth/wesnoth-1.13.8/Wesnoth_1.13.8.dmg/download">
								<i class="downloadicon downloadicon-apple" aria-hidden="true"></i>
								<span class="os">macOS (10.7+)</span>
								<span class="size">408.2 MiB</span>
							</a>
						</li>
						<li class="src">
							<a href="https://sourceforge.net/projects/wesnoth/files/wesnoth/wesnoth-1.13.8/wesnoth-1.13.8.tar.bz2/download">
								<i class="downloadicon downloadicon-src" aria-hidden="true"></i>
								<span class="os">Source</span>
								<span class="size">409.0 MiB</span>
							</a>
						</li>
						<li class="linux">
							<a href="https://wiki.wesnoth.org/WesnothBinariesLinux">
								<i class="downloadicon downloadicon-linux" aria-hidden="true"></i>
								<span class="os">Linux</span>
							</a>
						</li>
					</ul>

					<ul class="downloads-more">
						<li><a href="https://forums.wesnoth.org/viewtopic.php?t=46094">Update announcement</a></li>
						<li><a href="https://wiki.wesnoth.org/Download#Development_.281.13_branch.29">Checksums and other downloads</a></li>
					</ul>

					<h4>System Requirements</h4>

					<figure>
						<table class="sysreqs">
							<thead>
								<tr>
									<th></th>
									<th>Minimum</th>
									<th>Recommended</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<th>Operating system</th>
									<td>Microsoft Windows 7 SP1 or later<br />Apple macOS 10.7 or later<br />Ubuntu 14.04 or compatible</td>
									<td>Microsoft Windows 10<br />Apple macOS 10.10 or later<br />Ubuntu 16.04 or compatible</td>
								</tr>
								<tr>
									<th>CPU</th>
									<td>Dual-core 2.0 GHz or better</td>
									<td>Dual-core 3.2 GHz or better</td>
								</tr>
								<tr>
									<th>RAM</th>
									<td>2 GB</td>
									<td>4 GB</td>
								</tr>
								<tr>
									<th>Disk</th>
									<td>800 MB free</td>
									<td>2 GB free</td>
								</tr>
								<tr>
									<th>Graphics</th>
									<td>800x600 or larger screen<sup>2</sup></td>
									<td>1024x768 or larger screen<sup>2</sup></td>
								</tr>
								<tr>
									<th>Input</th>
									<td colspan="2">Keyboard and mouse required</td>
							</tbody>
						</table>
					</figure>

					<div class="reset"></div>
				</div>

				<script>
					(function($){
						//
						// Generate version info structure from HTML data source.
						//

						var Version = function(id, label, number, files) {
							this.id = id;
							this.label = label;
							this.number = number;
							this.files = files;
 						};

						function buildFileList($section)
						{
							var res = {};

							$section.find(".downloads > li").each(function(i) {
								var sizeElem = $(this).find(".size")[0],
								    sizeText = null,
								    $link = $(this).find("a");

								if (sizeElem) {
									// Make whitespace in the size label non-breaking.
									sizeText = sizeElem.innerHTML.replace(" ", "&nbsp;");
								}

								res[this.className] = {
									label:	$link.children(".os")[0].innerHTML,
									url:		$link[0].href,
									size:		sizeText
								};
							});

							return res;
						}

 						var branches = [], $branchSections = {}, defBranch = null;

 						$(".download-branch").each(function(j) {
							var $this = $(this);
							var id = this.id;
							var label = $this.children("h3")[0].innerHTML;
							var verNum = $this.data("version");

							branches.push( new Version(id, label, verNum, buildFileList($this)) );
							$branchSections[id] = $this;

							if ($this.data("recommended") !== undefined) {
								defBranch = branches[branches.length - 1];
							}

							//console.log("Branch " + id + ":" + JSON.stringify( branches[branches.length - 1] ));
 						});

 						//
 						// Identify default download
 						//

 						if (defBranch !== null) {
							var ua = navigator.userAgent, platform = "src";

							if (/win/i.test(ua))     platform = "windows";
							if (/mac/i.test(ua))     platform = "apple";
							if (/ip[ao]d/i.test(ua)) platform = "ios";
							if (/iphone/i.test(ua))  platform = "ios";
							if (/android/i.test(ua)) platform = "android";
							// Fallback to src until our Linux package list becomes more accessible
							// for casual/new Linux users.
							//if (/linux/i.test(ua))   platform = "linux";

							if (!(platform in defBranch.files)) {
								platform = "src";
							}

							var $recBox = $("#download-recommended");
							var $downButt = $recBox.children(".download-button");

							$downButt.attr("href", defBranch.files[platform].url);
							$downButt.find(".download-desc").html(
									 defBranch.files[platform].label + " &#8212; " + defBranch.number);
						}

						//
						// Downloads section
						//

						var clsSwitchOn = "branch-switch-on", clsSwitchOff = "branch-switch-off";

						function selectVisibleBranch($e)
						{
							var current = $e.data("branch");

							$e.removeClass(clsSwitchOff).addClass(clsSwitchOn);
							$e.siblings().removeClass(clsSwitchOn).addClass(clsSwitchOff)

							var $fadeOutTargets = $(), $fadeInTarget;
							var fadeDuration = 250;

							for (var j = 0; j < branches.length; ++j) {
								var id = branches[j].id;
								if (id == current) {
									$fadeInTarget = $branchSections[id];
								} else {
									$fadeOutTargets = $fadeOutTargets.add($branchSections[id]);
								}
							}

							$fadeOutTargets.fadeOut(fadeDuration, function(){
								$fadeInTarget.fadeIn(fadeDuration);
							});
						}

						var $dParent = $("<div class='branch-switchbar' role='toolbar' />");

						for (var j = 0; j < branches.length; ++j) {
							var b = branches[j];
							var isDefault = defBranch !== null && b.id == defBranch.id;

							var dMarkup = "<a href='#' role='button' class='branch-switch ";

							if (defBranch !== null && b.id == defBranch.id) {
								dMarkup += clsSwitchOn;
							} else {
								dMarkup += clsSwitchOff;
								$branchSections[b.id].hide();
							}

							dMarkup += "'><i aria-hidden='true' class='branch-icon-" + b.id + "'/> ";
							dMarkup += b.label + " <span class='branch-desc'>" + b.number + "</span></a>";
							$branchSections[b.id].children("h3").hide();

							$(dMarkup).appendTo($dParent).data("branch", b.id).click(function() {
								selectVisibleBranch($(this));
								return false;
							});
						}

						$("#download > h2").addClass("fl").after($dParent);
						$dParent.after("<div class='reset' />")
					}(jQuery));
				</script>

			</div>

			<div class="reset"></div>
		</div>
		<div class="centerbox topdivider flexfill">
			<div id="support">
				<h2>Join</h2><span id="bgsupport"></span>

				<p>With a vast community with tens of thousands of players and over 36,000 posts in our forums, help resources for new and experienced players alike abound.</p>

				<ul>
					<li><a href="https://forums.wesnoth.org/">Official Forums</a></li>
					<li><a href="https://wiki.wesnoth.org/FAQ">Frequently Asked Questions</a></li>
					<li><a href="https://wiki.wesnoth.org/ReportingBugs">Reporting a Bug</a></li>
				</ul>
			</div>

			<div id="contribute">
				<h2>Contribute</h2><span id="bgcontrib"></span>

				<p>Wesnoth is made possible by the efforts of players and enthusiasts from all over the world. Whether it be by creating new add-on content, contributing patches for core content and the game engine, or just testing the development version, you too can help shape the next version of Wesnoth!</p>

				<ul>
					<li><a href="https://wiki.wesnoth.org/Create">Introduction to Content Creation</a></li>
					<li><a href="https://wiki.wesnoth.org/Project">About the Battle for Wesnoth Project</a></li>
				</ul>
			</div>

			<div class="reset"></div>
		</div>

		<div id="social-trail">
			<div class="social-buttons-group">
				<a class="discord-bigbutton" href="https://discord.gg/tSmJS2E" title="Join our Discord server!"><span class="sr-label">Discord</span></a>
			</div>

			<div class="social-buttons-group">
				<div id="twitter-widget">
					<a href="https://twitter.com/Wesnoth" class="twitter-follow-button" data-size="large" data-dnt="true" data-show-count="false">Follow @Wesnoth</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
				</div>
				<div id="facebook-widget">
					<div id="fb-root"></div>
					<script>(function(d, s, id) {
						var js, fjs = d.getElementsByTagName(s)[0];
						if (d.getElementById(id)) return;
						js = d.createElement(s); js.id = id;
						js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7";
						fjs.parentNode.insertBefore(js, fjs);
					}(document, 'script', 'facebook-jssdk'));</script>
					<div class="fb-like" data-href="https://www.facebook.com/Battle-for-Wesnoth-1671354243186470/" data-layout="button_count" data-action="like" data-show-faces="false" data-size="large" data-share="true"></div>
				</div>
			</div>

			<div class="social-buttons-group">
				<a class="github-bigbutton" href="https://github.com/wesnoth/wesnoth" title="Check out Wesnoth’s source code on GitHub!"><i class="github-icon"></i><span>GitHub</span></a>
			</div>

			<div class="reset"></div>
		</div>
	</div>

</div>

<div id="footer-sep"></div>

<div id="footer"><div id="footer-content"><div>
	<a href="https://wiki.wesnoth.org/StartingPoints">Site Map</a> &#8226; <a href="http://status.wesnoth.org/">Site Status</a><br />
	Copyright &copy; 2003&ndash;2017 by <a rel="author" href="https://wiki.wesnoth.org/Project">The Battle for Wesnoth Project</a>. Supported by <a href="http://www.jexiste.fr/">Jexiste</a>.<br />
	Site design Copyright &copy; 2017 by Ignacio R. Morelle.
</div></div></div>

<script>
  (function($) {
    /*
     * Smooth scrolling for anchor links
     */
    $('a[href*="#"]:not([href="#"])').click(function() {
      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
          && location.hostname == this.hostname)
      {
        var hash = this.hash;
        var target = $(hash);
        target = target.length ? target : $('[name=' + hash.slice(1) +']');
        if (target.length)
        {
          $('html,body').animate(
            { scrollTop: target.offset().top },
            { duration: 500, complete: function() { window.location.href = hash; } }
          );
          return false;
        }
      }
    });
  }(jQuery));
</script>

<script src="/wesmere/js/retina.min.js"></script>

</body>
</html>

<!-- kate: indent-mode normal; indent-width 2; tab-width 2; space-indent off; show-tabs off; -->
